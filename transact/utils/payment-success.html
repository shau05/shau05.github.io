<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment App</title>
    <script src="https://use.fontawesome.com/21e8bfa7b3.js"></script>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="/lib/css/global.css">
</head>

<body>
    <div class="container">
        <div class="c-mr">
            <div class="card mx-5 my-5">
                <div class="card-body mx-3 my-3" id="info">

                </div>
            </div>
        </div>
    </div>
    <!-- jQuery CDN - Slim version (=without AJAX) -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous">
    </script>
    <script src="/lib/js/jquery.js"></script>
    <!-- Popper.JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
        integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous">
    </script>
    <!-- Bootstrap JS -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"
        integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous">
    </script>
    <script>
        $(document).ready(() => {
            $('#info').html(`<p class="text-center text-success">Processing Your Payment</p>
                    <div class="d-flex justify-content-center">
                        <div class="spinner-grow text-success" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                        <div class="spinner-grow text-success" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                        <div class="spinner-grow text-success" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                        <div class="spinner-grow text-success" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                    </div>`);
            setTimeout(() => {
                window.location.href="https://webotp-demo.hrokuapp.com";
                // $('#info').html(`<p class="text-center text-success text-bold">
                //         <i class="fa fa-check" aria-hidden="true" style="font-size:2rem;"></i>
                //     </p>
                //     <p class="text-center text-success text-bold">
                //         Payment Successfull
                //     </p>
                //     <p class="text-center text-secondary">
                //         Redirecting...
                //     </p>`);
                setTimeout(() => {
                    let controller;
                    if (navigator.serviceWorker.controller) {
                        controller = navigator.serviceWorker.controller;
                        controller.postMessage({
                            message_type: "status",
                            message: "SUCCESS",
                        });
                    } else {
                        window.location.href = "/index.html";
                    }
                }, 5000);
            }, 7000);
        })
    </script>
</body>

</html>